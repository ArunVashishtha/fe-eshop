<button routerLink="/seller">Back to dashboard</button>

<form [formGroup]="productForm">
  <label for="name">Name:</label>
  <input type="text" id="name" formControlName="name" required><br>

  <label for="description">Description:</label>
  <textarea id="description" formControlName="description" required></textarea><br>

  <label for="mrp">MRP:</label>
  <input type="number" id="mrp" formControlName="mrp" step="0.01" required><br>

  <label for="discountPrice">Discount Price:</label>
  <input type="number" id="discountPrice" formControlName="discountPrice" step="0.01" required><br>

  <label for="category">Category:</label>
<select id="category" formControlName="category" required>
 <option *ngFor="let category of categories" [value]="category._id">{{ category.name }}</option>
</select><br>

<label for="subcategory">Subcategory:</label>
<select id="subcategory" formControlName="subcategory" required>
 <option *ngFor="let subcategory of subcategories" [value]="subcategory._id">{{ subcategory.name }}</option>
</select><br>

  <label for="brand">Brand:</label>
  <input type="text" id="brand" formControlName="brand" required><br>

  <!-- Variations Array -->
  <div formArrayName="variations">
    <div *ngFor="let variation of variationsArray.controls; let i = index" [formGroupName]="i">
      <label for="color">Color:</label>
      <input type="text" id="color" formControlName="color" required><br>

      <label for="size">Size:</label>
      <input type="text" id="size" formControlName="size" required><br>

      <label for="stock">Stock:</label>
      <input type="number" id="stock" formControlName="stock" required><br>

      <!-- Images Array -->
      <div formArrayName="images">
        <div *ngFor="let image of getImagesArray(variation).controls; let j = index" [formGroupName]="j">
          <label for="imageUrl">Image URL:</label>
          <input type="text" id="imageUrl" formControlName="url" required><br>
      
          <label for="altText">Alt Text:</label>
          <input type="text" id="altText" formControlName="altText" required><br>
        </div>
        <!-- Add a button to add images -->
        <button type="button" (click)="addImage(i)">Add Image</button>
     </div>
    </div>
    <!-- Add a button to add variations -->
    <button type="button" (click)="addVariation()">Add Variation</button>
  </div>

  <button type="button" (click)="createProduct(productId)">{{ productId ? 'Update' : 'Create'}} Product</button>
</form>
